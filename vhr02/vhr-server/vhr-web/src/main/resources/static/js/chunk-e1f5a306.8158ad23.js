(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1f5a306"],{"1fe7":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 系统管理 ")])},a=[],l={name:"SysCfg"},s=l,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,"3adb9432",null);t["default"]=c.exports},"24fa":function(e,t,n){},"418a":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"margin-top":"10px",display:"flex","justify-content":"center"}},[n("el-input",{staticStyle:{width:"300px","margin-right":"8px"},attrs:{size:"small",type:"text","prefix-icon":"el-icon-search",placeholder:"请输入要搜索的内容..."},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.doSearch}},[e._v("搜索")])],1),n("div",{staticClass:"hr-container"},e._l(e.hrs,(function(t,i){return n("el-card",{key:i,staticClass:"hr-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.name))]),n("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteHr(t)}}})],1),n("div",[n("div",{staticClass:"img-container"},[n("img",{staticClass:"userface-img",attrs:{src:t.userface,alt:e.hrs.name,title:t.name}})]),n("div",{staticClass:"userinfo-container"},[e._v("用户名："+e._s(t.name))]),n("div",{staticClass:"userinfo-container"},[e._v("手机号码："+e._s(t.phone))]),n("div",{staticClass:"userinfo-container"},[e._v("电话号码："+e._s(t.telephone))]),n("div",{staticClass:"userinfo-container"},[e._v("地址："+e._s(t.address))]),n("div",{staticClass:"userinfo-container"},[e._v("用户状态："),n("el-switch",{attrs:{size:"mini","active-text":"启用","inactive-text":"禁用"},on:{change:function(n){return e.enabledChange(t)}},model:{value:t.enabled,callback:function(n){e.$set(t,"enabled",n)},expression:"hr.enabled"}})],1),n("div",{staticClass:"userinfo-container",attrs:{size:"mini"}},[e._v("用户角色： "),e._l(t.roles,(function(t,i){return n("el-tag",{key:i,staticStyle:{"margin-right":"4px"},attrs:{type:"success"}},[e._v(e._s(t.nameZh))])})),n("el-popover",{attrs:{placement:"right",title:"角色列表",width:"200",trigger:"click"},on:{show:function(n){return e.showPop(t)},hide:function(n){return e.hidePop(t)}}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedRoles,callback:function(t){e.selectedRoles=t},expression:"selectedRoles"}},e._l(e.allRoles,(function(e,t){return n("el-option",{key:t,attrs:{label:e.nameZh,value:e.id}})})),1),n("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text"},slot:"reference"})],1)],2),n("div",{staticClass:"userinfo-container"},[e._v("备注："+e._s(t.remark))])])])})),1)])},a=[],l=(n("4160"),n("b0c0"),n("159b"),n("7c15")),s={name:"SysHr",data:function(){return{hrs:[],allRoles:[],selectedRoles:[],keyword:""}},mounted:function(){this.initHrs()},methods:{deleteHr:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["b"])("/system/hr/"+e.id,"delete").then((function(e){e&&t.initHrs()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doSearch:function(){this.initHrs()},hidePop:function(e){var t=this,n=e.roles,i=[],a=!1;if(n.length!==this.selectedRoles.length?a=!0:(n.forEach((function(e){i.push(e.id)})),a=!(JSON.stringify(i.sort())==JSON.stringify(this.selectedRoles.sort()))),a){var s="/system/hr/role?hrid="+e.id;this.selectedRoles.forEach((function(e){s+="&rids="+e})),Object(l["b"])(s,"put").then((function(e){e&&t.initHrs()}))}},showPop:function(e){var t=this;this.initAllRoles();var n=e.roles;this.selectedRoles=[],n.forEach((function(e){t.selectedRoles.push(e.id)}))},initAllRoles:function(){var e=this;Object(l["b"])("/system/hr/roles","get").then((function(t){t&&(e.allRoles=t)}))},enabledChange:function(e){var t=this;delete e.roles,Object(l["b"])("/system/hr/","put",e).then((function(e){e&&t.initHrs()}))},initHrs:function(){var e=this;Object(l["b"])("/system/hr/?keyword="+this.keyword,"get").then((function(t){e.hrs=t}))}}},o=s,c=(n("a73a"),n("2877")),r=Object(c["a"])(o,i,a,!1,null,null,null);t["default"]=r.exports},"4de4":function(e,t,n){"use strict";var i=n("23e7"),a=n("b727").filter,l=n("1dde"),s=n("ae40"),o=l("filter"),c=s("filter");i({target:"Array",proto:!0,forced:!o||!c},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"69f6":function(e,t,n){"use strict";var i=n("92632"),a=n.n(i);a.a},"845c":function(e,t,n){"use strict";var i=n("24fa"),a=n.n(i);a.a},8608:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 初始化数据库 ")])},a=[],l={name:"SysInit"},s=l,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,"73dba8fc",null);t["default"]=c.exports},"864e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 操作日志管理 ")])},a=[],l={name:"SysLog"},s=l,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,"61a3e895",null);t["default"]=c.exports},"890c":function(e,t,n){},"8d67":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"部门管理",name:"DepMana"}},[n("DepMana")],1),n("el-tab-pane",{attrs:{label:"职位管理",name:"PosMana"}},[n("PosMana")],1),n("el-tab-pane",{attrs:{label:"职称管理",name:"JobLevelMana"}},[n("JobLevelMana")],1),n("el-tab-pane",{attrs:{label:"奖惩规则",name:"EcMana"}},[n("EcMana")],1),n("el-tab-pane",{attrs:{label:"权限组",name:"PermissMana"}},[n("PermissMana")],1)],1)],1)},a=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{width:"470px"}},[n("el-input",{attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"请输入部门名进行搜索..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.deps,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node",staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[n("span",[e._v(e._s(i.label))]),n("span",[n("el-button",{staticClass:"depBtn",attrs:{type:"primary",size:"mini"},on:{click:function(){return e.addDep(a)}}},[e._v(" 添加部门 ")]),n("el-button",{staticClass:"depBtn",attrs:{type:"danger",size:"mini"},on:{click:function(){return e.deleteDep(a)}}},[e._v(" 删除部门 ")])],1)])}}])})],1),n("el-dialog",{attrs:{title:"添加部门",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("div",[n("el-tag",[e._v("上级部门")]),n("span",{staticClass:"depInput"},[e._v(e._s(e.pname))])],1),n("div",{staticStyle:{"margin-top":"8px"}},[n("el-tag",[e._v("添加部门")]),n("el-input",{staticClass:"depInput",attrs:{placeholder:"请输入部门名称...",type:"text",size:"small"},model:{value:e.dep.name,callback:function(t){e.$set(e.dep,"name",t)},expression:"dep.name"}})],1)]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doAddDep}},[e._v("确 定")])],1)])],1)},s=[],o=(n("99af"),n("4de4"),n("c975"),n("a434"),n("b0c0"),n("7c15")),c={name:"DepMana",data:function(){return{filterText:"",deps:[],defaultProps:{children:"children",label:"name"},dep:{name:"",parentId:-1},pname:"",dialogVisible:!1}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){this.initDep()},methods:{addDep2Deps:function(e,t){for(var n in e){var i=e[n];if(i.id==t.parentId)return i.children=i.children.concat(t),void(i.children.length>0&&(i.parent=!0));this.addDep2Deps(i.children,t)}},doAddDep:function(){var e=this;Object(o["b"])("/system/basic/department","post",this.dep).then((function(t){t&&(e.addDep2Deps(e.deps,t.obj),e.dialogVisible=!1,e.pname="",e.dep.name="",e.dep.parentId=-1)}))},addDep:function(e){this.pname=e.name,this.dep.parentId=e.id,this.dialogVisible=!0},deleteDepByDeps:function(e,t,n){for(var i in t){var a=t[i];if(a.id==n)return t.splice(i,1),void(0===t.length&&(e.parent=!1));this.deleteDepByDeps(a,a.children,n)}},deleteDep:function(e){var t=this;e.parent?this.$message.error("该部门下有子部门，删除失败！"):this.$confirm("此操作将永久删除【"+e.name+"】部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])("/system/basic/department/"+e.id,"delete").then((function(n){n&&t.deleteDepByDeps(null,t.deps,e.id)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},initDep:function(){var e=this;Object(o["b"])("/system/basic/department","get").then((function(t){t&&(e.deps=t)}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)}}},r=c,u=(n("69f6"),n("2877")),d=Object(u["a"])(r,l,s,!1,null,null,null),p=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticStyle:{width:"300px","margin-right":"8px"},attrs:{size:"small",placeholder:"添加职位...","prefix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPosition(t)}},model:{value:e.pos.name,callback:function(t){e.$set(e.pos,"name",t)},expression:"pos.name"}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addPosition}},[e._v("添加")])],1),n("div",{staticClass:"posManaTable"},[n("el-table",{staticStyle:{width:"70%"},attrs:{data:e.positions,border:"",stripe:"",size:"small"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"职位名称",width:"180"}}),n("el-table-column",{attrs:{prop:"createDate",label:"创建时间"}}),n("el-table-column",{attrs:{prop:"enabled",label:"是否启用",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?n("el-tag",{attrs:{type:"success",size:"small"}},[e._v("已启用")]):n("el-tag",{attrs:{type:"danger",size:"small"}},[e._v("未启用")])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==e.multipleSelection},on:{click:e.manyDelete}},[e._v("批量删除")])],1),n("el-dialog",{attrs:{title:"修改职位",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("el-tag",[e._v("职位名称")]),n("el-input",{staticClass:"updatePosInput",attrs:{size:"small"},model:{value:e.updatePos.name,callback:function(t){e.$set(e.updatePos,"name",t)},expression:"updatePos.name"}})],1),n("div",{staticStyle:{"margin-top":"10px"}},[n("el-tag",{staticStyle:{"margin-right":"8px"}},[e._v("是否启用")]),n("el-switch",{attrs:{size:"small","active-text":"已启用","inactive-text":"未启用"},model:{value:e.updatePos.enabled,callback:function(t){e.$set(e.updatePos,"enabled",t)},expression:"updatePos.enabled"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},m=[],h=(n("4160"),n("159b"),{name:"PosMana",data:function(){return{pos:{name:""},dialogVisible:!1,updatePos:{name:"",enabled:""},positions:[],multipleSelection:[]}},mounted:function(){this.initPositions()},methods:{manyDelete:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),Object(o["b"])("/system/basic/pos/many"+t,"delete").then((function(t){t&&e.initPositions()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},initPositions:function(){var e=this;Object(o["b"])("/system/basic/pos","get").then((function(t){t&&(e.positions=t)}))},addPosition:function(){var e=this;this.pos.name?Object(o["b"])("/system/basic/pos","post",this.pos).then((function(t){t&&(e.initPositions(),e.pos.name="")})):this.$message.error("职位名称不可为空")},handleEdit:function(e,t){Object.assign(this.updatePos,t),this.dialogVisible=!0},doUpdate:function(){var e=this;Object(o["b"])("/system/basic/pos/","put",this.updatePos).then((function(t){t&&(e.initPositions(),e.updatePos.name="",e.dialogVisible=!1)}))},handleDelete:function(e,t){var n=this;this.$confirm("此操作将永久删除【"+t.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])("/system/basic/pos/"+t.id,"delete").then((function(e){e&&n.initPositions()}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))}}}),b=h,v=(n("d1a9"),Object(u["a"])(b,f,m,!1,null,null,null)),y=v.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticStyle:{width:"300px","margin-right":"8px"},attrs:{size:"small",placeholder:"添加职称...","prefix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addJobLevel(t)}},model:{value:e.jl.name,callback:function(t){e.$set(e.jl,"name",t)},expression:"jl.name"}}),n("el-select",{staticStyle:{"margin-right":"8px"},attrs:{size:"small",placeholder:"职称等级"},model:{value:e.jl.titleLevel,callback:function(t){e.$set(e.jl,"titleLevel",t)},expression:"jl.titleLevel"}},e._l(e.titleLevels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1),n("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addJobLevel}},[e._v("添加")])],1),n("div",{staticClass:"jobLevelManaTable"},[n("el-table",{staticStyle:{width:"80%"},attrs:{data:e.jobLevels,border:"",stripe:"",size:"small"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"职位名称",width:"180"}}),n("el-table-column",{attrs:{prop:"titleLevel",label:"职位级别",width:"130"}}),n("el-table-column",{attrs:{prop:"createDate",label:"创建时间"}}),n("el-table-column",{attrs:{prop:"enabled",label:"是否启用",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?n("el-tag",{attrs:{type:"success",size:"small"}},[e._v("已启用")]):n("el-tag",{attrs:{type:"danger",size:"small"}},[e._v("未启用")])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==e.multipleSelection},on:{click:e.manyDelete}},[e._v("批量删除")])],1),n("el-dialog",{attrs:{title:"修改职位",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("el-tag",[e._v("职位名称")]),n("el-input",{staticClass:"updateLjInput",attrs:{size:"small"},model:{value:e.updateJl.name,callback:function(t){e.$set(e.updateJl,"name",t)},expression:"updateJl.name"}})],1),n("div",{staticStyle:{"margin-top":"10px"}},[n("el-tag",{staticStyle:{"margin-right":"8px"}},[e._v("职位级别")]),n("el-select",{staticStyle:{"margin-right":"8px"},attrs:{size:"small",placeholder:"职称等级"},model:{value:e.updateJl.titleLevel,callback:function(t){e.$set(e.updateJl,"titleLevel",t)},expression:"updateJl.titleLevel"}},e._l(e.titleLevels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("div",{staticStyle:{"margin-top":"10px"}},[n("el-tag",{staticStyle:{"margin-right":"8px"}},[e._v("是否启用")]),n("el-switch",{attrs:{size:"small","active-text":"已启用","inactive-text":"未启用"},model:{value:e.updateJl.enabled,callback:function(t){e.$set(e.updateJl,"enabled",t)},expression:"updateJl.enabled"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},x=[],_={name:"JobLevelMana",data:function(){return{jl:{name:"",titleLevel:""},updateJl:{name:"",titleLevel:"",enabled:""},dialogVisible:!1,titleLevels:["正高级","副高级","中级","初级","员级"],jobLevels:[],multipleSelection:[]}},mounted:function(){this.initJobLevels()},methods:{manyDelete:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),Object(o["b"])("/system/basic/jobLevel/many"+t,"delete").then((function(t){t&&e.initJobLevels()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e)},initJobLevels:function(){var e=this;Object(o["b"])("/system/basic/jobLevel","get").then((function(t){t&&(e.jobLevels=t)}))},addJobLevel:function(){var e=this;this.jl.name&&this.jl.titleLevel?Object(o["b"])("/system/basic/jobLevel","post",this.jl).then((function(t){t&&(e.initJobLevels(),e.jl.name="",e.jl.titleLevel="")})):this.$message.error("职位名称或职称等级不可为空"),console.log(this.jl)},handleEdit:function(e,t){Object.assign(this.updateJl,t),this.dialogVisible=!0},doUpdate:function(){var e=this;Object(o["b"])("/system/basic/jobLevel/","put",this.updateJl).then((function(t){t&&(e.initJobLevels(),e.updateJl.name="",e.updateJl.titleLevel="",e.dialogVisible=!1)}))},handleDelete:function(e,t){var n=this;this.$confirm("此操作将永久删除【"+t.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])("/system/basic/jobLevel/"+t.id,"delete").then((function(e){e&&n.initJobLevels()}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))}}},k=_,j=(n("845c"),Object(u["a"])(k,g,x,!1,null,null,null)),S=j.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" EcMana ")])},O=[],$={name:"EcMana"},C=$,z=Object(u["a"])(C,w,O,!1,null,"2f374252",null),L=z.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticClass:"permissInput",attrs:{placeholder:"请输入英文名称...",size:"small"},model:{value:e.per.name,callback:function(t){e.$set(e.per,"name",t)},expression:"per.name"}},[n("template",{slot:"prepend"},[e._v("ROLE_")])],2),n("el-input",{staticClass:"permissInput",attrs:{placeholder:"请输入中文名称...",size:"small"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addRole(t)}},model:{value:e.per.nameZh,callback:function(t){e.$set(e.per,"nameZh",t)},expression:"per.nameZh"}}),n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addRole}},[e._v("添加")])],1),n("div",[n("el-collapse",{staticClass:"permissMian",attrs:{accordion:""},on:{change:e.change},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.roles,(function(t,i){return n("el-collapse-item",{key:t.id,attrs:{title:t.nameZh,name:t.id}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("可访问资源")]),n("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteRole(t)}}})],1),n("div",[n("el-tree",{ref:"tree",refInFor:!0,attrs:{"show-checkbox":"","node-key":"id","default-checked-keys":e.selectMenus,data:e.allMenus,props:e.defaultProps}}),n("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[n("el-button",{attrs:{size:"small"},on:{click:e.quxiao}},[e._v("取消修改")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.doUpdate(t.id,i)}}},[e._v("确认修改")])],1)],1)])],1)})),1)],1)])},M=[],D={name:"PermissMana",data:function(){return{per:{name:"",nameZh:""},activeName:-1,roles:[],allMenus:[],selectMenus:[],defaultProps:{children:"children",label:"name"}}},mounted:function(){this.initPermission()},methods:{quxiao:function(){this.$message.info("已取消修改！"),this.activeName=-1},deleteRole:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.nameZh+"】角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])("/system/basic/permission/role/"+e.id,"delete").then((function(e){e&&t.initPermission()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addRole:function(){var e=this;this.per.name&&this.per.nameZh?Object(o["b"])("/system/basic/permission/role","post",this.per).then((function(t){e.initPermission(),e.per.name="",e.per.nameZh=""})):this.$message.error("数据不可为空！")},doUpdate:function(e,t){var n=this,i=this.$refs.tree[t].getCheckedKeys(!0),a="/system/basic/permission?rid="+e;i.forEach((function(e){a+="&mids="+e})),Object(o["b"])(a,"put").then((function(e){e&&(n.activeName=-1)}))},change:function(e){e&&(this.initMenus(),this.initSelectMeuns(e))},initSelectMeuns:function(e){var t=this;Object(o["b"])("/system/basic/permission/mid/"+e,"get").then((function(e){e&&(t.selectMenus=e)}))},initMenus:function(){var e=this;Object(o["b"])("/system/basic/permission/menu","get").then((function(t){t&&(e.allMenus=t)}))},initPermission:function(){var e=this;Object(o["b"])("/system/basic/permission","get").then((function(t){t&&(e.roles=t)}))}}},E=D,J=(n("c06a"),Object(u["a"])(E,P,M,!1,null,null,null)),R=J.exports,T={name:"SysBasic",data:function(){return{activeName:"DepMana"}},components:{DepMana:p,PosMana:y,JobLevelMana:S,EcMana:L,PermissMana:R}},B=T,V=Object(u["a"])(B,i,a,!1,null,"14f25b84",null);t["default"]=V.exports},92632:function(e,t,n){},a434:function(e,t,n){"use strict";var i=n("23e7"),a=n("23cb"),l=n("a691"),s=n("50c4"),o=n("7b0b"),c=n("65f0"),r=n("8418"),u=n("1dde"),d=n("ae40"),p=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!f},{splice:function(e,t){var n,i,u,d,p,f,y=o(this),g=s(y.length),x=a(e,g),_=arguments.length;if(0===_?n=i=0:1===_?(n=0,i=g-x):(n=_-2,i=h(m(l(t),0),g-x)),g+n-i>b)throw TypeError(v);for(u=c(y,i),d=0;d<i;d++)p=x+d,p in y&&r(u,d,y[p]);if(u.length=i,n<i){for(d=x;d<g-i;d++)p=d+i,f=d+n,p in y?y[f]=y[p]:delete y[f];for(d=g;d>g-i+n;d--)delete y[d-1]}else if(n>i)for(d=g-i;d>x;d--)p=d+i-1,f=d+n-1,p in y?y[f]=y[p]:delete y[f];for(d=0;d<n;d++)y[d+x]=arguments[d+2];return y.length=g-i+n,u}})},a73a:function(e,t,n){"use strict";var i=n("e574"),a=n.n(i);a.a},c06a:function(e,t,n){"use strict";var i=n("890c"),a=n.n(i);a.a},c975:function(e,t,n){"use strict";var i=n("23e7"),a=n("4d64").indexOf,l=n("a640"),s=n("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,r=l("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!r||!u},{indexOf:function(e){return c?o.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},cf53:function(e,t,n){},d1a9:function(e,t,n){"use strict";var i=n("cf53"),a=n.n(i);a.a},d1e3:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 备份恢复数据库 ")])},a=[],l={name:"SysData"},s=l,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,"0a63849f",null);t["default"]=c.exports},e574:function(e,t,n){}}]);
//# sourceMappingURL=chunk-e1f5a306.8158ad23.js.map